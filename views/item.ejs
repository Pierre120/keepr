<%# TODO: Make sure to pass the `item` object here from the server %>
<div class="row fade-in-up">
  <div class="col-2 align-items-start">
    <%- include('partials/btn-back.ejs') %>
  </div>
  <div class = "col-8 align-items-center">
    <h1 class="d-flex mt-3 p-1 border-bottom border-3 oswald display-4 " id="page-heading">
      <div class="d-inline-block">
        <%- item.itemName %>
        <% if(isOwner) { %>
          <%- include('partials/btn-edit-item.ejs',  {
                editOwner: item._id,
                editType: 'itemName'
              }) 
          %>
        <% } %>
      </div>
      <div class="d-inline-block ms-auto">
        <% if(isOwner) { %>
          <%- include('partials/btn-delete-item.ejs', {
                deleteModalId: 'deleteItemModal'})  
          %>
        <% } %>
      </div>
    </h1>
    
    <div class="d-grid gap-3 mt-5">
      <div class="row">
        <div class="col">
          <div class="card keepr-card border-darkpurple h-100">
            <div class="card-body">
              <h4 class="card-title fw-bold">Product Code
                <% if(isOwner) { %>
                  <%- include('partials/btn-edit-item.ejs',  {
                        editOwner: item._id,
                        editType: 'pcode'
                      }) 
                  %>
                <% } %>
              </h4>
              <hr class="text-darkpurple">
              <p class="card-text card-text-first fs-4 fst-italic mt-5"><%- item.pcode %></p>
            </div>
          </div>
        </div>
        
        <div class="col">
          <div class="card keepr-card border-teal h-100">
            <div class="card-body">
              <h4 class="card-title fw-bold">Qty/Unit
                <%- include('partials/btn-edit-item.ejs',  {
                    editOwner: item._id,
                    editType: 'qtyUnit'
                  }) 
                %>
              </h4>
              <hr class="text-teal">
              <p class="card-text fs-4 fst-italic mt-5"><%- item.qtyUnit %></p>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="card keepr-card desc-card">
            <div class="card-body">
              <h4 class="card-title fw-bold">Description
                <% if(isOwner) { %>
                  <%- include('partials/btn-edit-item.ejs',  {
                        editOwner: item._id,
                        editType: 'description'
                    })
                  %>
                <% } %>
              </h4>
              <hr>
              <p class="card-text card-text-first fs-4 fst-italic mt-5">
                <%- item.description %>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="row mx-0">
        <div class="col-3"></div>
        <div class="col-6">
          <div class="card keepr-card border-pink h-100">
            <div class="card-body">
              <h4 class="card-title fw-bold">Assigned to
                <% if(isOwner) { %>
                  <%- include('partials/btn-edit-item.ejs',  {
                        editOwner: item._id,
                        editType: 'assignedCollabs'
                      }) 
                  %>
                <% } %>
              </h4>
              <hr class="text-pink">
              <p class="card-text fs-4 fst-italic mt-5">
                <ul style="list-style-type:disc;">
                <% for(let i=0; i < item.assignedCollabs.length; i++) { %>
                  <% if(i === 0) { %>
                  <li class="card-text card-text-first fs-5 fst-italic mb-1"><%- item.assignedCollabs[i] %></li>
                  <% } else { %>
                  <li class="card-text fs-5 fst-italic mb-1"><%- item.assignedCollabs[i] %></li>
                  <% } %>
                <% } %>
                </ul>
              </p>
            </div>
          </div>
        </div>
        <div class="col-3">
        </div>
      </div>

  </div>
  <div class="col-2">
  </div>
</div>
