<%
	const deleteModalObjects = [
		{
			id: 'deleteWorkspaceModal',
			title: 'Delete Workspace',
			toDelete: 'this workspace',
			formId: 'deleteWorkspaceForm'
		},
		{
			id: 'deleteHistoryModal',
			title: 'Delete History',
			toDelete: 'this workspace\'s history',
			formId: 'deleteHistoryForm'
		},
		{
			id: 'deleteItemModal',
			title: 'Delete Item',
			toDelete: 'this item',
			formId: 'deleteItemForm'
		},
		{
			id: 'deleteAccountModal',
			title: 'Delete Account',
			toDelete: 'your Account',
			formId: 'deleteAccountForm'
		}
	];
	
%>

<% 
    let deleteModals = new Array();
		/*
			index - delete modal:
			0 - workspace
			1 - item
			2 - history
			3 - account
		*/

		if(hasDeleteWorkspace === true) {
			deleteModals.push(deleteModalObjects[0]);

			 if(deleteModalId === 'deleteHistoryModal') {
				deleteModals.push(deleteModalObjects[1]);
			}
		} 
		else if(deleteModalId === 'deleteItemModal' ) {
			deleteModals.push(deleteModalObjects[2]);
		}
		else if(deleteModalId === 'deleteAccountModal' ) {
			deleteModals.push(deleteModalObjects[3]);
		}

%>

<% for(let deleteModal of deleteModals) { %>

<div class="modal fade montserrat" id="<%= deleteModal.id %>" tabindex="-1" 
    aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="modalLabel"><%- deleteModal.title %></h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<p>
					Are you sure you want to permanently delete <%- deleteModal.toDelete %>? 
					<span class="text-danger">(This action can't be undone.)</span>
				</p>
			</div>
			<form id="<%= deleteModal.formId %>" method="post" action="<%= formSubmitPath %>" novalidate></form>
			<div class="modal-footer">
				<button type="button" class="btn btn-gray" data-bs-dismiss="modal">Cancel</button>
				<button type="submit" class="btn btn-danger" form="<%= deleteModal.formId %>">Confirm</button>
			</div>
		</div>
	</div>
</div>

<% } %>

<% if(deleteModalId === 'deleteCollaboratorModal') { %>

<div class="modal fade montserrat" id="<%= deleteModalId %>" tabindex="-1" 
	aria-labelledby="modalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
	<div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="modalLabel">Remove Collaborator</h5>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		</div>
		<div class="modal-body">
			<p>
				Are you sure you want to remove <span id="collabToRemove" class="fw-bold"></span> as a collaborator of this workspace? 
				<span class="text-danger">(This action can't be undone.)</span>
			</p>
		</div>
		<form id="deleteCollaboratorForm" method="post" action="<%= formSubmitPath %>" novalidate></form>
		<div class="modal-footer">
			<button type="button" class="btn btn-gray" data-bs-dismiss="modal">Cancel</button>
			<button type="submit" class="btn btn-danger" form="deleteCollaboratorForm">Confirm</button>
		</div>
	</div>
</div>
</div>

<% } %>
